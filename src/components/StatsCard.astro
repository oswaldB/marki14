<!-- src/components/StatsCard.astro -->
<-
interface Props {
  title: string;
  value: string | number;
  subtitle?: string;
  color?: 'primary' | 'secondary' | 'success' | 'warning' | 'danger';
  icon?: string;
}

const { title, value, subtitle = '', color = 'primary', icon } = Astro.props;

// Couleur mapping
const colorClasses = {
  primary: {
    bg: 'bg-[#007ACE] bg-opacity-10',
    text: 'text-[#007ACE]',
    border: 'border-[#007ACE]'
  },
  secondary: {
    bg: 'bg-[#00BDCF] bg-opacity-10',
    text: 'text-[#00BDCF]',
    border: 'border-[#00BDCF]'
  },
  success: {
    bg: 'bg-[#00CF9B] bg-opacity-10',
    text: 'text-[#00CF9B]',
    border: 'border-[#00CF9B]'
  },
  warning: {
    bg: 'bg-yellow-500 bg-opacity-10',
    text: 'text-yellow-600',
    border: 'border-yellow-500'
  },
  danger: {
    bg: 'bg-red-500 bg-opacity-10',
    text: 'text-red-600',
    border: 'border-red-500'
  }
};

const currentColor = colorClasses[color] || colorClasses.primary;

// Mapping des icônes Lucide vers Material Icons
const getMaterialIcon = (lucideIcon: string) => {
  const iconMap: Record<string, string> = {
    'file-text': 'fa-file-alt',
    'euro': 'fa-euro-sign',
    'clock': 'fa-clock',
    'alert-triangle': 'fa-exclamation-triangle',
    'file-warning': 'fa-file-invoice',
    'list': 'fa-list',
    'users': 'fa-users',
    'kanban': 'fa-columns',
    'user': 'fa-user',
    'bar-chart-2': 'fa-chart-bar',
    'check-circle': 'fa-check-circle',
    'x-circle': 'fa-times-circle',
    'alert-circle': 'fa-exclamation-circle',
    'info': 'fa-info-circle',
    'help-circle': 'fa-question-circle',
    'search': 'fa-search',
    'mail': 'fa-envelope',
    'message-square': 'fa-comment',
    'phone': 'fa-phone',
    'home': 'fa-home',
    'settings': 'fa-cog',
    'bell': 'fa-bell',
    'calendar': 'fa-calendar',
    'credit-card': 'fa-credit-card',
    'download': 'fa-download',
    'upload': 'fa-upload',
    'edit': 'fa-edit',
    'trash': 'fa-trash',
    'trash-2': 'fa-trash-alt',
    'eye': 'fa-eye',
    'eye-off': 'fa-eye-slash',
    'lock': 'fa-lock',
    'unlock': 'fa-unlock',
    'plus': 'fa-plus',
    'minus': 'fa-minus',
    'x': 'fa-times',
    'check': 'fa-check',
    'arrow-left': 'fa-arrow-left',
    'arrow-right': 'fa-arrow-right',
    'arrow-up': 'fa-arrow-up',
    'arrow-down': 'fa-arrow-down',
    'chevron-left': 'fa-chevron-left',
    'chevron-right': 'fa-chevron-right',
    'chevron-up': 'fa-chevron-up',
    'chevron-down': 'fa-chevron-down',
    'refresh-cw': 'fa-sync-alt',
    'power': 'fa-power-off',
    'play': 'fa-play',
    'pause': 'fa-pause',
    'stop': 'fa-stop',
    'skip-back': 'fa-step-backward',
    'skip-forward': 'fa-step-forward',
    'shuffle': 'fa-random',
    'repeat': 'fa-redo',
    'volume': 'fa-volume-up',
    'volume-2': 'fa-volume-up',
    'volume-x': 'fa-volume-mute',
    'star': 'fa-star',
    'heart': 'fa-heart',
    'thumbs-up': 'fa-thumbs-up',
    'thumbs-down': 'fa-thumbs-down',
    'share': 'fa-share',
    'send': 'fa-paper-plane',
    'save': 'fa-save',
    'print': 'fa-print',
    'camera': 'fa-camera',
    'image': 'fa-image',
    'video': 'fa-video',
    'music': 'fa-music',
    'file': 'fa-file',
    'folder': 'fa-folder',
    'grid': 'fa-th',
    'list': 'fa-list',
    'table': 'fa-table',
    'bar-chart': 'fa-chart-bar',
    'pie-chart': 'fa-chart-pie',
    'line-chart': 'fa-chart-line',
    'globe': 'fa-globe',
    'map': 'fa-map',
    'map-pin': 'fa-map-marker-alt',
    'compass': 'fa-compass',
    'sun': 'fa-sun',
    'moon': 'fa-moon',
    'cloud': 'fa-cloud',
    'rain': 'fa-cloud-rain',
    'snow': 'fa-snowflake',
    'wind': 'fa-wind',
    'thermometer': 'fa-thermometer-half',
    'droplet': 'fa-tint',
    'fire': 'fa-fire',
    'zap': 'fa-bolt',
    'activity': 'fa-chart-line',
    'trending-up': 'fa-arrow-trend-up',
    'trending-down': 'fa-arrow-trend-down',
    'gift': 'fa-gift',
    'award': 'fa-award',
    'trophy': 'fa-trophy',
    'medal': 'fa-medal',
    'cup': 'fa-trophy',
    'flag': 'fa-flag',
    'bookmark': 'fa-bookmark',
    'book': 'fa-book',
    'newspaper': 'fa-newspaper',
    'document': 'fa-file-alt',
    'clipboard': 'fa-clipboard',
    'pen': 'fa-pen',
    'pencil': 'fa-pencil-alt',
    'brush': 'fa-paint-brush',
    'palette': 'fa-palette',
    'music-note': 'fa-music',
    'film': 'fa-film',
    'gamepad': 'fa-gamepad',
    'puzzle': 'fa-puzzle-piece',
    'lightbulb': 'fa-lightbulb',
    'rocket': 'fa-rocket',
    'plane': 'fa-plane',
    'car': 'fa-car',
    'bike': 'fa-bicycle',
    'boat': 'fa-ship',
    'train': 'fa-train',
    'bus': 'fa-bus',
    'truck': 'fa-truck',
    'walk': 'fa-walking',
    'run': 'fa-running',
    'swim': 'fa-swimmer',
    'basketball': 'fa-basketball-ball',
    'football': 'fa-football-ball',
    'soccer': 'fa-futbol',
    'baseball': 'fa-baseball-ball',
    'tennis': 'fa-table-tennis',
    'golf': 'fa-golf-ball',
    'hockey': 'fa-hockey-puck',
    'cricket': 'fa-cricket',
    'volleyball': 'fa-volleyball-ball',
    'rugby': 'fa-rugby-ball',
    'american-football': 'fa-football-ball',
    'boxing': 'fa-boxing-glove',
    'martial-arts': 'fa-hand-fist',
    'yoga': 'fa-person-praying',
    'dumbbell': 'fa-dumbbell',
    'gym': 'fa-dumbbell',
    'fitness': 'fa-dumbbell',
    'health': 'fa-heart-pulse',
    'hospital': 'fa-hospital',
    'ambulance': 'fa-ambulance',
    'pill': 'fa-pills',
    'syringe': 'fa-syringe',
    'thermometer': 'fa-thermometer',
    'stethoscope': 'fa-stethoscope',
    'microscope': 'fa-microscope',
    'dna': 'fa-dna',
    'brain': 'fa-brain',
    'atom': 'fa-atom',
    'cell': 'fa-cell',
    'virus': 'fa-virus',
    'bacteria': 'fa-bacteria',
    'test-tube': 'fa-vial',
    'flask': 'fa-flask',
    'beaker': 'fa-flask',
    'microscope': 'fa-microscope',
    'telescope': 'fa-binoculars',
    'satellite': 'fa-satellite',
    'rocket': 'fa-rocket',
    'space': 'fa-meteor',
    'planet': 'fa-globe',
    'star': 'fa-star',
    'moon': 'fa-moon',
    'sun': 'fa-sun',
    'cloud': 'fa-cloud',
    'snowflake': 'fa-snowflake',
    'wind': 'fa-wind',
    'rain': 'fa-cloud-rain',
    'lightning': 'fa-bolt',
    'tornado': 'fa-tornado',
    'hurricane': 'fa-hurricane',
    'earthquake': 'fa-earthquake',
    'fire': 'fa-fire',
    'volcano': 'fa-volcano',
    'tsunami': 'fa-water',
    'flood': 'fa-water',
    'drought': 'fa-sun',
    'avalanche': 'fa-snowflake',
    'landscape': 'fa-mountain',
    'mountain': 'fa-mountain',
    'hill': 'fa-mountain',
    'tree': 'fa-tree',
    'forest': 'fa-tree',
    'park': 'fa-tree',
    'garden': 'fa-seedling',
    'flower': 'fa-flower',
    'plant': 'fa-seedling',
    'leaf': 'fa-leaf',
    'seedling': 'fa-seedling',
    'palm-tree': 'fa-palm-tree',
    'cactus': 'fa-cactus',
    'pine-tree': 'fa-tree',
    'bush': 'fa-bush',
    'grass': 'fa-grass',
    'mushroom': 'fa-mushroom',
    'animal': 'fa-paw',
    'dog': 'fa-dog',
    'cat': 'fa-cat',
    'bird': 'fa-dove',
    'fish': 'fa-fish',
    'horse': 'fa-horse',
    'cow': 'fa-cow',
    'pig': 'fa-pig',
    'chicken': 'fa-chicken',
    'sheep': 'fa-sheep',
    'rabbit': 'fa-rabbit',
    'mouse': 'fa-mouse',
    'rat': 'fa-rat',
    'snake': 'fa-snake',
    'lizard': 'fa-lizard',
    'turtle': 'fa-turtle',
    'frog': 'fa-frog',
    'whale': 'fa-whale',
    'dolphin': 'fa-dolphin',
    'shark': 'fa-shark',
    'octopus': 'fa-octopus',
    'crab': 'fa-crab',
    'lobster': 'fa-lobster',
    'shrimp': 'fa-shrimp',
    'squid': 'fa-squid',
    'bee': 'fa-bee',
    'butterfly': 'fa-butterfly',
    'ant': 'fa-ant',
    'spider': 'fa-spider',
    'bug': 'fa-bug',
    'fly': 'fa-fly',
    'mosquito': 'fa-mosquito',
    'dragonfly': 'fa-dragonfly',
    'ladybug': 'fa-ladybug',
    'beetle': 'fa-beetle',
    'cockroach': 'fa-cockroach',
    'scorpion': 'fa-scorpion',
    'snail': 'fa-snail',
    'worm': 'fa-worm',
    'food': 'fa-utensils',
    'apple': 'fa-apple-whole',
    'banana': 'fa-banana',
    'orange': 'fa-orange',
    'lemon': 'fa-lemon',
    'lime': 'fa-lime',
    'pear': 'fa-pear',
    'peach': 'fa-peach',
    'cherry': 'fa-cherry',
    'strawberry': 'fa-strawberry',
    'blueberry': 'fa-blueberry',
    'raspberry': 'fa-raspberry',
    'blackberry': 'fa-blackberry',
    'grape': 'fa-grape',
    'watermelon': 'fa-watermelon',
    'melon': 'fa-melon',
    'pineapple': 'fa-pineapple',
    'coconut': 'fa-coconut',
    'kiwi': 'fa-kiwi-bird',
    'avocado': 'fa-avocado',
    'tomato': 'fa-tomato',
    'carrot': 'fa-carrot',
    'potato': 'fa-potato',
    'onion': 'fa-onion',
    'garlic': 'fa-garlic',
    'pepper': 'fa-pepper-hot',
    'cucumber': 'fa-cucumber',
    'corn': 'fa-corn',
    'eggplant': 'fa-eggplant',
    'broccoli': 'fa-broccoli',
    'cauliflower': 'fa-cauliflower',
    'cabbage': 'fa-cabbage',
    'lettuce': 'fa-lettuce',
    'spinach': 'fa-spinach',
    'mushroom': 'fa-mushroom',
    'bread': 'fa-bread-slice',
    'croissant': 'fa-croissant',
    'bagel': 'fa-bagel',
    'pizza': 'fa-pizza-slice',
    'hamburger': 'fa-hamburger',
    'hotdog': 'fa-hotdog',
    'sandwich': 'fa-sandwich',
    'taco': 'fa-taco',
    'burrito': 'fa-burrito',
    'salad': 'fa-salad',
    'soup': 'fa-soup',
    'ramen': 'fa-ramen',
    'noodles': 'fa-noodles',
    'pasta': 'fa-pasta',
    'rice': 'fa-rice',
    'sushi': 'fa-sushi',
    'dumpling': 'fa-dumpling',
    'egg': 'fa-egg',
    'cheese': 'fa-cheese',
    'milk': 'fa-milk',
    'yogurt': 'fa-yogurt',
    'butter': 'fa-butter',
    'ice-cream': 'fa-ice-cream',
    'cake': 'fa-cake',
    'cookie': 'fa-cookie',
    'donut': 'fa-donut',
    'candy': 'fa-candy-cane',
    'chocolate': 'fa-chocolate-bar',
    'coffee': 'fa-coffee',
    'tea': 'fa-tea',
    'juice': 'fa-glass-water',
    'soda': 'fa-glass-water',
    'beer': 'fa-beer',
    'wine': 'fa-wine-glass',
    'cocktail': 'fa-cocktail',
    'water': 'fa-glass-water',
    'lemonade': 'fa-lemon',
    'smoothie': 'fa-blender',
    'milkshake': 'fa-milkshake',
    'energy-drink': 'fa-energy-drink',
    'sports-drink': 'fa-sports-drink',
    'drink': 'fa-glass-water',
    'cup': 'fa-mug',
    'glass': 'fa-glass',
    'bottle': 'fa-bottle',
    'can': 'fa-can',
    'fork': 'fa-utensils',
    'knife': 'fa-utensils',
    'spoon': 'fa-utensils',
    'plate': 'fa-plate',
    'bowl': 'fa-bowl',
    'cup': 'fa-mug',
    'glass': 'fa-glass',
    'bottle': 'fa-bottle',
    'can': 'fa-can',
    'pot': 'fa-pot',
    'pan': 'fa-pan',
    'kettle': 'fa-kettle',
    'microwave': 'fa-microwave',
    'oven': 'fa-oven',
    'stove': 'fa-stove',
    'fridge': 'fa-fridge',
    'freezer': 'fa-freezer',
    'dishwasher': 'fa-dishwasher',
    'washing-machine': 'fa-washing-machine',
    'dryer': 'fa-dryer',
    'vacuum': 'fa-vacuum',
    'broom': 'fa-broom',
    'mop': 'fa-mop',
    'soap': 'fa-soap',
    'sponge': 'fa-sponge',
    'brush': 'fa-brush',
    'toothbrush': 'fa-toothbrush',
    'toothpaste': 'fa-toothpaste',
    'floss': 'fa-floss',
    'mouthwash': 'fa-mouthwash',
    'razor': 'fa-razor',
    'shower': 'fa-shower',
    'bath': 'fa-bath',
    'toilet': 'fa-toilet',
    'sink': 'fa-sink',
    'towel': 'fa-towel',
    'mirror': 'fa-mirror',
    'scale': 'fa-scale',
    'comb': 'fa-comb',
    'hairbrush': 'fa-hairbrush',
    'hairdryer': 'fa-hairdryer',
    'curling-iron': 'fa-curling-iron',
    'straightener': 'fa-straightener',
    'perfume': 'fa-perfume',
    'deodorant': 'fa-deodorant',
    'lotion': 'fa-lotion',
    'sunscreen': 'fa-sunscreen',
    'makeup': 'fa-makeup',
    'lipstick': 'fa-lipstick',
    'mascara': 'fa-mascarade',
    'eyeliner': 'fa-eyeliner',
    'eyeshadow': 'fa-eyeshadow',
    'blush': 'fa-blush',
    'foundation': 'fa-foundation',
    'powder': 'fa-powder',
    'nail-polish': 'fa-nail-polish',
    'nail-file': 'fa-nail-file',
    'nail-scissors': 'fa-nail-scissors',
    'tweezers': 'fa-tweezers',
    'razor': 'fa-razor',
    'scissors': 'fa-scissors',
    'clippers': 'fa-clippers',
    'trimmer': 'fa-trimmer',
    'shaver': 'fa-shaver',
    'epilator': 'fa-epilator',
    'wax': 'fa-wax',
    'cream': 'fa-cream',
    'gel': 'fa-gel',
    'spray': 'fa-spray',
    'foam': 'fa-foam',
    'powder': 'fa-powder',
    'serum': 'fa-serum',
    'toner': 'fa-toner',
    'cleanser': 'fa-cleanser',
    'moisturizer': 'fa-moisturizer',
    'sunscreen': 'fa-sunscreen',
    'aftershave': 'fa-aftershave',
    'cologne': 'fa-cologne',
    'perfume': 'fa-perfume',
    'deodorant': 'fa-deodorant',
    'antiperspirant': 'fa-antiperspirant',
    'body-wash': 'fa-body-wash',
    'soap': 'fa-soap',
    'shampoo': 'fa-shampoo',
    'conditioner': 'fa-conditioner',
    'hair-mask': 'fa-hair-mask',
    'hair-oil': 'fa-hair-oil',
    'hair-spray': 'fa-hair-spray',
    'hair-gel': 'fa-hair-gel',
    'hair-wax': 'fa-hair-wax',
    'hair-clay': 'fa-hair-clay',
    'hair-cream': 'fa-hair-cream',
    'hair-mousse': 'fa-hair-mousse',
    'hair-serum': 'fa-hair-serum',
    'hair-tonic': 'fa-hair-tonic',
    'beard-oil': 'fa-beard-oil',
    'beard-balm': 'fa-beard-balm',
    'beard-wax': 'fa-beard-wax',
    'mustache-wax': 'fa-mustache-wax',
    'shaving-cream': 'fa-shaving-cream',
    'shaving-soap': 'fa-shaving-soap',
    'shaving-brush': 'fa-shaving-brush',
    'shaving-bowl': 'fa-shaving-bowl',
    'shaving-stand': 'fa-shaving-stand',
    'shaving-mug': 'fa-shaving-mug',
    'shaving-scuttle': 'fa-shaving-scuttle',
    'shaving-strop': 'fa-shaving-strop',
    'shaving-hone': 'fa-shaving-hone',
    'shaving-leather': 'fa-shaving-leather',
    'shaving-paddle': 'fa-shaving-paddle',
    'shaving-puck': 'fa-shaving-puck',
    'shaving-stick': 'fa-shaving-stick',
    'shaving-tallow': 'fa-shaving-tallow',
    'shaving-alum': 'fa-shaving-alum',
    'shaving-brush': 'fa-shaving-brush',
    'shaving-stand': 'fa-shaving-stand',
    'shaving-mirror': 'fa-shaving-mirror',
    'shaving-bowl': 'fa-shaving-bowl',
    'shaving-mug': 'fa-shaving-mug',
    'shaving-scuttle': 'fa-shaving-scuttle',
    'shaving-strop': 'fa-shaving-strop',
    'shaving-hone': 'fa-shaving-hone',
    'shaving-leather': 'fa-shaving-leather',
    'shaving-paddle': 'fa-shaving-paddle',
    'shaving-puck': 'fa-shaving-puck',
    'shaving-stick': 'fa-shaving-stick',
    'shaving-tallow': 'fa-shaving-tallow',
    'shaving-alum': 'fa-shaving-alum',
    'shaving-brush': 'fa-shaving-brush',
    'shaving-stand': 'fa-shaving-stand',
    'shaving-mirror': 'fa-shaving-mirror',
    'shaving-bowl': 'fa-shaving-bowl',
    'shaving-mug': 'fa-shaving-mug',
    'shaving-scuttle': 'fa-shaving-scuttle',
    'shaving-strop': 'fa-shaving-strop',
    'shaving-hone': 'fa-shaving-hone',
    'shaving-leather': 'fa-shaving-leather',
    'shaving-paddle': 'fa-shaving-paddle',
    'shaving-puck': 'fa-shaving-puck',
    'shaving-stick': 'fa-shaving-stick',
    'shaving-tallow': 'fa-shaving-tallow',
    'shaving-alum': 'fa-shaving-alum'
  };
  return iconMap[lucideIcon] || 'help';
};

// Mapping des icônes Lucide vers Material Icons
const getMaterialIcon = (lucideIcon: string) => {
  const iconMap: Record<string, string> = {
    'file-text': 'description',
    'euro': 'euro_symbol',
    'clock': 'schedule',
    'alert-triangle': 'warning',
    'file-warning': 'description',
    'list': 'list',
    'users': 'people',
    'kanban': 'view_column',
    'user': 'person',
    'bar-chart-2': 'bar_chart',
    'check-circle': 'check_circle',
    'x-circle': 'cancel',
    'alert-circle': 'error',
    'info': 'info',
    'help-circle': 'help',
    'search': 'search',
    'mail': 'mail',
    'message-square': 'comment',
    'phone': 'phone',
    'home': 'home',
    'settings': 'settings',
    'bell': 'notifications',
    'calendar': 'calendar_today',
    'credit-card': 'credit_card',
    'download': 'download',
    'upload': 'upload',
    'edit': 'edit',
    'trash': 'delete',
    'trash-2': 'delete',
    'eye': 'visibility',
    'eye-off': 'visibility_off',
    'lock': 'lock',
    'unlock': 'lock_open',
    'plus': 'add',
    'minus': 'remove',
    'x': 'close',
    'check': 'check',
    'arrow-left': 'arrow_back',
    'arrow-right': 'arrow_right',
    'arrow-up': 'arrow_upward',
    'arrow-down': 'arrow_downward',
    'chevron-left': 'chevron_left',
    'chevron-right': 'chevron_right',
    'chevron-up': 'expand_less',
    'chevron-down': 'expand_more',
    'refresh-cw': 'refresh',
    'power': 'power_settings_new',
    'play': 'play_arrow',
    'pause': 'pause',
    'stop': 'stop',
    'skip-back': 'skip_previous',
    'skip-forward': 'skip_next',
    'shuffle': 'shuffle',
    'repeat': 'repeat',
    'volume': 'volume_up',
    'volume-2': 'volume_up',
    'volume-x': 'volume_off',
    'star': 'star',
    'heart': 'favorite',
    'thumbs-up': 'thumb_up',
    'thumbs-down': 'thumb_down',
    'share': 'share',
    'send': 'send',
    'save': 'save',
    'print': 'print',
    'camera': 'camera_alt',
    'image': 'image',
    'video': 'videocam',
    'music': 'library_music',
    'file': 'insert_drive_file',
    'folder': 'folder',
    'grid': 'grid_on',
    'table': 'table_chart',
    'bar-chart': 'bar_chart',
    'pie-chart': 'pie_chart',
    'line-chart': 'show_chart',
    'globe': 'public',
    'map': 'map',
    'map-pin': 'place',
    'compass': 'explore',
    'sun': 'wb_sunny',
    'moon': 'brightness_2',
    'cloud': 'cloud',
    'rain': 'grain',
    'snow': 'ac_unit',
    'wind': 'air',
    'thermometer': 'device_thermostat',
    'droplet': 'opacity',
    'fire': 'whatshot',
    'zap': 'flash_on',
    'activity': 'show_chart',
    'trending-up': 'trending_up',
    'trending-down': 'trending_down',
    'gift': 'card_giftcard',
    'award': 'emoji_events',
    'trophy': 'emoji_events',
    'medal': 'military_tech',
    'shaving-tallow': 'soap',
    'shaving-alum': 'soap'
  };
  return iconMap[lucideIcon] || 'help';
};
-->

<div class={"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow"}>
  <div class="flex items-center justify-between mb-2">
    <h3 class="text-sm font-medium text-gray-500">{title}</h3>
    {icon && (
      <div class={"w-8 h-8 rounded-full flex items-center justify-center " + currentColor.bg}>
        <i class="material-icons">{getMaterialIcon(icon)}</i>
      </div>
    )}
  </div>
  <p class={"text-3xl font-bold " + currentColor.text}>{value}</p>
  {subtitle && <p class="text-sm text-gray-500 mt-2">{subtitle}</p>}
</div>